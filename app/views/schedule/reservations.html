<div id="reservations" class="container-fluid" style="height:100%;width:100%">

    <div class="alert alert-danger" ng-show="hasError()">
        <strong>Error as occured...</strong>
        <div>{{error}}</div>
    </div>
<div class="row">
  <div class="col-xs-2  ">
    <div class="form-group label-floating">
      <label class="control-label" for="parent">Start Date</label>
      <input id="start-filter" type="text" class="form-control" ng-model="reservationsCtrl.startFilter"
             date-picker="{ switchOnClick: true, time: true, date: true, format: 'YYYY-MM-DD HH:mm', clearButton: false,weekStart: 0 }"
             date-picker-min-date="reservationsCtrl.conference.startObj"
             date-picker-max-date="reservationsCtrl.conference.endObj"
             current-date="reservationsCtrl.startFilterObj"
             ng-change="reservationsCtrl.changeDate();">
    </div>
  </div>
  <div class="col-xs-2  ">
    <div class="form-group label-floating">
      <label class="control-label" for="parent">End Date</label>
      <input id="end-filter" type="text" class="form-control" ng-model="reservationsCtrl.endFilter"
             date-picker="{ switchOnClick: true, time: true, date: true, format: 'YYYY-MM-DD HH:mm', clearButton: false,weekStart: 0 }"
             date-picker-min-date="reservationsCtrl.conference.startObj"
             date-picker-max-date="reservationsCtrl.conference.endObj"
             current-date="reservationsCtrl.endFilterObj"
             ng-change="reservationsCtrl.changeDate();">
    </div>
  </div>
</div>
    <div class="row">
        <style>
            .pointer {
                cursor: pointer;
            }
        </style>

        <div class="container" style="width:100%;">
            <div class="row" ng-show="reservationsCtrl.count">

                <div class="col-lg-3 col-md-3 col-xs-12 text-no-wrap" style="color:#333;font-size:14px;padding-left:10px;">
                    <div class="text-no-wrap" style="margin-top:25px;">
                        <span>
                          <span class="badge" >{{((reservationsCtrl.currentPage*reservationsCtrl.itemsPerPage)+1)}}</span>
                          <span ng-if="((reservationsCtrl.currentPage+1)*(reservationsCtrl.docs.length))===((reservationsCtrl.currentPage+1)*(reservationsCtrl.itemsPerPage)) && (reservationsCtrl.docs.length===reservationsCtrl.itemsPerPage)">  -  <span class="badge" >{{(reservationsCtrl.currentPage+1)*(reservationsCtrl.docs.length)}} </span></span>
                          <!-- <span ng-if=" !((reservationsCtrl.currentPage+1)*(reservationsCtrl.docs.length))">  -  <span class="badge" ><i class="fa fa-spinner fa-spin"></i></span></span> -->
                          <span ng-if="((reservationsCtrl.currentPage+1)*(reservationsCtrl.docs.length))!==((reservationsCtrl.currentPage+1)*(reservationsCtrl.itemsPerPage)) && (reservationsCtrl.docs.length===reservationsCtrl.itemsPerPage)">  -  <span class="badge" >{{reservationsCtrl.docs.length}} </span></span>
                          <span ng-if="reservationsCtrl.docs.length!==reservationsCtrl.itemsPerPage">  -  <span class="badge" >{{reservationsCtrl.count}} </span></span>
                          of
                          <span class="badge">{{reservationsCtrl.count}} </span> records
                          <span ng-if="reservationsCtrl.search"> for <span style="color:#009B48;">"{{reservationsCtrl.search}}"</span></span>
                        </span>
                        <div ng-show="loading" style="display:inline;">
                            <i class="fa fa-spinner fa-spin"></i> Loading...
                        </div>
                    </div>
                </div>

                <div class="col-lg-7 col-md-7 col-xs-10">
                    <nav class="pull-right" ng-show="reservationsCtrl.pages.length>1">
                        <ul class="pagination">
                            <li>
                                <a ng-click="reservationsCtrl.onPage(reservationsCtrl.currentPage-1)" href="#" aria-label="Previous" ng-show="reservationsCtrl.currentPage!==0">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li ng-repeat="page in reservationsCtrl.pages track by $index" ng-class="{ active : reservationsCtrl.currentPage===page.index }" >
                                <a href="#" ng-click="reservationsCtrl.onPage(page.index)">{{page.text}}</a>
                            </li>
                            <li >
                                <a ng-click="reservationsCtrl.onPage(reservationsCtrl.currentPage+1)" href="#" aria-label="Next" ng-disabled="(reservationsCtrl.currentPage+1<_ctrl.pageCount)">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="col-lg-2 col-md-2 col-xs-3 text-nowrap">
                    <div class="form-group form-inline" style="color:#333;font-size:14px;margin-top:20px;">
                        <span style="color:#333;font-size:14px;">Records per page:</span>
                        <select style="display:inline;" class="form-control" ng-model="reservationsCtrl.itemsPerPage" ng-change="reservationsCtrl.onPage(page.index)" convert-to-number>
                            <option ng-value="5" ng-selected="reservationsCtrl.itemsPerPage===5">5</option>
                            <option ng-value="10" ng-selected="reservationsCtrl.itemsPerPage===10">10</option>
                            <option ng-value="15" ng-selected="reservationsCtrl.itemsPerPage===15">15</option>
                            <option ng-value="20" ng-selected="reservationsCtrl.itemsPerPage===20">20</option>
                            <option ng-value="50" ng-selected="reservationsCtrl.itemsPerPage===50">50</option>
                            <option ng-value="100" ng-selected="reservationsCtrl.itemsPerPage===100">100</option>
                            <option ng-value="500" ng-selected="reservationsCtrl.itemsPerPage===500">500</option>
                        </select>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-xs-12 col-sm-12 ">
            <!-- <h1>            <div class="form-group label-floating" >
                  <select class="form-control" ng-model="reservationsCtrl.venueId" style="height:70px;line-height:70px;font-size:36px;" ng-change="reservationsCtrl.load()">
                    <option   ng-repeat="venue in reservationsCtrl.options.venues track by $index"  value="{{venue._id}}"  ng-selected="reservationsCtrl.venueId===venue._id">{{venue.acronym}} Rooms  </option>
                  </select>
                </div></h1> -->
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                          <th width="2%">&nbsp;1</th>
                            <th width="20%">title
                                <!-- <sorter label-name="Title" ng-model="reservationsCtrl.sort" property="title" load="reservationsCtrl.load()" style="margin-bottom:0px;"></sorter> -->
                            </th>
                            <th width="10%">room
                                <!-- <sorter label-name="Room" ng-model="reservationsCtrl.sort" property="room" load="reservationsCtrl.load()" style="margin-bottom:0px;"></sorter> -->
                            </th>
                            <th width="10%">Date
                                <!-- <sorter label-name="Date" ng-model="reservationsCtrl.sort" property="Date" load="reservationsCtrl.load()" style="margin-bottom:0px;"></sorter> -->
                            </th>
                            <th width="10%">Start
                                <!-- <sorter label-name="Start" ng-model="reservationsCtrl.sort" property="start" load="reservationsCtrl.load()" style="margin-bottom:0px;"></sorter> -->
                            </th>
                            <th width="10%">End
                                <!-- <sorter label-name="End" ng-model="reservationsCtrl.sort" property="end" load="reservationsCtrl.load()" style="margin-bottom:0px;"></sorter> -->
                            </th>
                            <th width="10%">Type</th>


                            <!-- <th width="5%">Actions</th> -->

                        </tr>
                    </thead>
                </table>
                <table class="table table-striped table-hover container">
                    <tbody >
                        <!-- | filter:reservationsCtrl.searchType |orderBy:'title' -->
                        <!-- ng-repeat="doc in docs  track by $index" -->
                        <tr id="{{doc._id}}" ng-class="{'active': item.$selected}" ng-repeat="doc in reservationsCtrl.docs  track by $index">
                          <td width="2%">
                              <div class="form-group " style="margin-top:10px;" >
                                  <input class="form-control" id="selected" type="checkbox" ng-model="doc.selected" >
                              </div>
                          </td>

                            <td width="20%">

                                    {{doc.title}}

                            </td>

                            <td width="10%">

                                    {{reservationsCtrl.getRoom(doc.location.room,'title')}}<hr style="margin: 0 0 0 0;">
{{reservationsCtrl.getRoom(doc.location.room,'location')}}<hr style="margin: 0 0 0 0;">
{{reservationsCtrl.getRoom(doc.location.room,'capacity')}}<hr style="margin: 0 0 0 0;">
                            </td>

                            <td width="10%">
                                <div class="form-group label-floating" style="margin-top:10px;">
                                      {{doc.start |moment:'format':'YYYY-MM-DD'}}
                                </div>
                            </td>
                            <td width="10%">
                                <div class="form-group label-floating" style="margin-top:10px;">
                                      {{doc.start|moment:'format':'HH:mm'}}
                                </div>
                            </td>
                            <td width="10%">
                              <div class="form-group label-floating" style="margin-top:10px;">
                                      {{doc.end|moment:'format':'HH:mm'}}
                              </div>
                            </td>

                            <td width="10%" >
                                <div class="form-group label-floating" style="margin-top:10px;background-color: {{reservationsCtrl.getType(doc.type,'reservation','color')}};">
                                    {{reservationsCtrl.getType(doc.type,'reservation','title')}}
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
                <table ng-if="reservationsCtrl.docs.length===0">
                    <tr>
                        <td colspan="11">
                            &nbsp; There are 0 reservations for this conference.
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="col-xs-1 col-sm-1  col-md-1  col-lg-1  col-xl-1" style="margin: 0 10px 0 0;">
            <button ng-click="reservationsCtrl.edit()" tool-tip type="button" class="btn btn-fab btn-fab hidden-xs hidden-sm" style="margin-top:50px;" data-placement="top" title="" data-original-title="New Room">
                <i class="fa fa-plus"></i>
            </button>
        </div>
    </div>

</div>