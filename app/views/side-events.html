<div ng-controller="events" class="container-fluid">

  <div class="row  view-header text-center">
    <span class="view-title pull-left">Side Event Scheduling</span>
    <div class="relative" style="margin-left:auto;margin-right:auto;width:230px;height:40px;">
      <div class="form-group" style="position:absolute;left:1px;margin-top:0px;width:85px;">
        <input id="start-filter" class="form-control" type="text" ng-model="startDate" ng-change="dateChange('start-filter')" style="color:#eee;">
      </div>
      <span style="position:absolute;right:48%;top:25%;font-size:16px;">to</span>
      <div class="form-group" style="position:absolute;right:1px;margin-top:0px;width:85px;">
        <input id="end-filter" class="form-control" type="text" ng-model="endDate" ng-change="dateChange('end-filter')" style="color:#eee;">
      </div>
    </div>
  </div>

  <!-- style="width:100%; min-height:600px;position:relative;" -->
  <div class="row wrapper" style="width:100%;height:100%;position:relative;" >
    <div class="x-container pull-left">

      <div class="wrapper">
        <!-- side event container -->
      <div class="se-cont" style="vertical-align:top;">
        <div class="se-cont-header text-center"><h4 style="margin-top:0px;padding-top:10px;">Unscheduled Side Events</h4>

<div class="btn-group  btn-group-raised btn-group-xs" style="margin:auto;">
  <a href="javascript:void(0)" class="btn "><i class="fa fa-filter"></i> Filter</a>
  <a href="javascript:void(0)" class="btn " ng-click="showSearch=1;"><i class="fa fa-search"></i> Search</a>
    <a href="javascript:void(0)" class="btn " ng-click="sync();" data-toggle="tooltip" data-placement="left" title="" data-original-title="Tooltip on left"><i class="fa fa-refresh fa-spin" ng-show="syncLoading"></i><i class="fa fa-refresh" ng-show="!syncLoading"></i> Sync</a>
</div>
<div></div>
<div class="relative" style="width:100%;" ng-show="showSearch">
    <i class="fa fa-times" style="position:absolute;right:5px;top:-15px;" ng-click="showSearch=0;"></i>
  <div class="form-group label-floating">
    <div class="input-group">
      <label class="control-label" for="searchSe">Search Side Events</label>
      <input type="text" id="searchSe" class="form-control" ng-model="search">
      <p class="help-block" >Showing <span class="badge">{{ses.length}}</span> for <span class="label label-default" style="font-size:13px;font-weight:300;">"{{search}}"</span></p>
      <span class="input-group-btn">
        <button type="button" class="btn btn-fab btn-fab-mini" ng-click="search='';">
          <i class="fa fa-search" ng-if="!search"></i>          <i class="fa fa-times" ng-if="search"></i>
        </button>
      </span>
    </div>
  </div>
</div>

<div class="relative" style="width:100%;" ng-show="showFilter">
    <i class="fa fa-times" style="position:absolute;right:5px;top:-15px;" ng-click="showFilter=0;"></i>
  <div class="form-group label-floating">
    <div class="input-group">
      <label class="control-label" for="searchSe">Search Side Events</label>
      <input type="text" id="searchSe" class="form-control" ng-model="search">
      <p class="help-block" >Showing <span class="badge">{{ses.length}}</span> for <span class="label label-default" style="font-size:13px;font-weight:300;">"{{search}}"</span></p>
      <span class="input-group-btn">
        <button type="button" class="btn btn-fab btn-fab-mini" ng-click="search='';">
          <i class="fa fa-search" ng-if="!search"></i>          <i class="fa fa-times" ng-if="search"></i>
        </button>
      </span>
    </div>
  </div>

</div>
<span>&nbsp;</span>
        </div>
        <div style=" height:100vh;overflow-y:auto;">
          <div class="wrapper" style="width:265px;height:100%;">
            <!-- dragu;ar containers -->
            <div class='se-cont' id="unscheduled-side-events" dragula='"se-bag"' dragula-model='sideEvents' style="height:100%;width:100%">
                  <side-event res="se" ng-repeat="se in ses = (sideEvents | filter:searchSe)"></side-event>
                  <!-- <div class="se-dragable-wrapper grabbible debug-border-thin" se-res-index="{{$index}}" res-id="{{se._id}}" ng-repeat="se in ses = (sideEvents | filter:searchSe)">
                    <div class="panel panel-default se-panel">
                      <div class="panel-heading relative">
                        <h2 class="panel-title text-center">{{se.title}} </h2>
                        <div class="debug-border-thin" style="max-height:16px;line-height:16px;overflow:hidden">
                        <span ng-repeat="org in se.sideEvent.orgs">
                          <img src="{{org.logo}}" class="img-circle" alt="Cinque Terre" width="15" height="15"> {{org.acronym}} | </span>
                        </div>
                        <div style="position:absolute;top:3px;right:3px;"  data-toggle="popover" data-placement="left" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus." ng-click="test($event);">
                          <span  style="font-size:10px;"><i class="fa fa-users"></i> {{se.sideEvent.expNumPart}}</span>
                        </div>
                      </div>
                      <div class="panel-body relative">
                        <div style="position:absolute;bottom:3px;right:47%;cursor:pointer;" ng-click="se.sideEvent.show=!se.sideEvent.show;"><i class="fa fa-times" ng-show="se.sideEvent.show"></i><i class="fa fa-arrows-v" ng-show="!se.sideEvent.show"></i></div>
                        <table class="table table-striped table-hover ">

                          <tbody>
                            <tr>
                              <td>1st:</td>
                              <td>{{se.sideEvent.prefDate.one}}
                              </td>
                              <td>
                                {{se.sideEvent.prefDateTime.one}}
                              </td>
                            </tr>
                            <tr ng-show="se.sideEvent.show">
                              <td>2nd:</td>
                              <td>{{se.sideEvent.prefDate.two}}</td>
                              <td>{{se.sideEvent.prefDateTime.two}}</td>
                            </tr>
                            <tr ng-show="se.sideEvent.show">
                              <td>3rd:</td>
                              <td>{{se.sideEvent.prefDate.three}}</td>
                              <td>{{se.sideEvent.prefDateTime.three}}</td>
                            </tr>
                            <tr ng-show="se.sideEvent.show">
                              <td>Req.:</td>
                              <td colspan="2">
                                <p ng-show="se.sideEvent.requirements.overhead">Overhead</p>
                                <p ng-show="se.sideEvent.requirements.pc">PC</p>
                                <p ng-show="se.sideEvent.requirements.overhead">Sound</p>
                                <p ng-show="se.sideEvent.requirements.lcd">LCD</p>
                                <p ng-show="se.sideEvent.requirements.interpretation">Interpretation</p>
                                <p ng-show="se.sideEvent.requirements.catering">Catering</p>
                                <p ng-show="se.sideEvent.requirements.other">{{se.sideEvent.requirements.other}}</p>
                              </td>
                            </tr>
                            <tr class="active" ng-show="se.sideEvent.show">
                              <td><i class="fa fa-user"></i></td>
                              <td>{{se.sideEvent.contact.firstName}} </td>
                              <td>{{se.sideEvent.contact.lastName}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="drag-view text-center text-nowrap debug-border-thin" style="height:16px;width:100%;display:none;">
                      <span  class="drag-view text-center text-nowrap"><i class="fa fa-calendar-o"></i> {{se.title}}</span>
                    </div>
                  </div> -->

            </div>
            <!-- endn of container -->
          </div>
        </div>
      </div>

        <!-- y labels -->
        <div class='room-cont' id="x-lables">
          <div class="" style="min-width:100px;height:100%;display:table-cell;">
            <div>
              <div class="relative" style="height:49px;">
                <div class="form-group " style="margin-top:0px;">
                  <select id="conf-select" class="form-control" ng-model="meeting" ng-change="changeMeeting()">
                    <option ng-repeat="docObj in options.conferences" value="{{docObj._id}}" ng-if="docObj._id" ng-selected="docObj.selected">{{docObj.acronym}} </option>
                  </select>
                  <span class="material-input"></span>
                </div>
              </div>
            </div>
          </div>
          <div class="day-label-y" ng-repeat="day in days" ng-show="day.selected">
            <div class="day">
              <div>{{day.month}}</div>
              <div>{{day.day}}</div>
            </div>
            <div class="tiers">
              <div ng-repeat="tier in day.tiers track by $index">{{tier.title}}</div>
            </div>
          </div>
        </div>

        <!-- room rows -->
        <div class='room-cont' dragula='"rooms-bag"' dragula-model='options.rooms' >
          <div ng-repeat='room in options.rooms | orderBy : "sort"' class="room-x" id="{{room._id}}" ng-show="!room.seHidden">
            <div class="grabbible room-title" ng-click="roomDialog(room);" style="text-align:center;background-color:{{room.color}}">
              {{room.acronym}}<br>
              <span class="small" ng-if="room.atTable">{{room.capacity}}/{{room.atTable}}</span><span class="small" ng-if="!room.atTable">{{room.capacity}}</span>
            </div>
              <div class="intersect-containers" ng-repeat='slot in room.bookings' ng-show="slot.selected">
                <div class="tiers">
                <div class="tiers" ng-repeat="tier in slot.tiers track by $index" style="min-height:20px;">
                  <!-- dragula-model='tier.bag' -->
                  <div  room-index="{{room._id}}" slot-index="{{$parent.$index}}" tier-index="{{$index}}" room="{{room.title}}" date="{{slot.date}}" time="{{tier.seconds}}" dragula='"se-bag"' dragula-model='tier.bag'>
                     <span ng-repeat="b in tier.bag track by $index" res-id="{{b._id}}" class="se-in-grid"> {{b.title}} </span>
                    <span class="empty-bag" >&nbsp;</span>
                  <!-- <span class="material-input"></span> -->
                  </div>
                </div>
                </div>
              </div>
          </div>
        </div>


      </div>
    </div>
  </div>

</div>


